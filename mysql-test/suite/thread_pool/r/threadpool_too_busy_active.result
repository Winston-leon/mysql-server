SELECT benchmark(9999999999, md5('very long command 1'));
SELECT benchmark(9999999999, md5('very long command 2'));
You should see a Lost connection message
ERROR HY000: Lost connection to MySQL server at 'waiting for initial communication packet', system error: 110
Found 1 stuck connections
SELECT SUM(CONNECTIONS) FROM INFORMATION_SCHEMA.THREAD_POOL_GROUPS;
SUM(CONNECTIONS)
4
SELECT SUM(ACTIVE_THREADS) FROM INFORMATION_SCHEMA.THREAD_POOL_GROUPS;
SUM(ACTIVE_THREADS)
2
SELECT SUM(STANDBY_THREADS) FROM INFORMATION_SCHEMA.THREAD_POOL_GROUPS;
SUM(STANDBY_THREADS)
0
SELECT SUM(QUEUE_LENGTH) FROM INFORMATION_SCHEMA.THREAD_POOL_GROUPS;
SUM(QUEUE_LENGTH)
1
SELECT SUM(HAS_LISTENER) FROM INFORMATION_SCHEMA.THREAD_POOL_GROUPS;
SUM(HAS_LISTENER)
1
SELECT SUM(IS_STALLED) FROM INFORMATION_SCHEMA.THREAD_POOL_GROUPS;
SUM(IS_STALLED)
1
SELECT COUNT(*) FROM INFORMATION_SCHEMA.THREAD_POOL_QUEUES;
COUNT(*)
1
SELECT SUM(THREAD_CREATIONS_DUE_TO_STALL) FROM INFORMATION_SCHEMA.THREAD_POOL_STATS;
SUM(THREAD_CREATIONS_DUE_TO_STALL)
2
SELECT SUM(WAKES_DUE_TO_STALL) FROM INFORMATION_SCHEMA.THREAD_POOL_STATS;
SUM(WAKES_DUE_TO_STALL)
1
SELECT SUM(THROTTLES) FROM INFORMATION_SCHEMA.THREAD_POOL_STATS;
SUM(THROTTLES)
0
SELECT SUM(STALLS) FROM INFORMATION_SCHEMA.THREAD_POOL_STATS;
SUM(STALLS)
1
